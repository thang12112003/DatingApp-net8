<div class="row">
  <table class="table">
    <thead>
      <tr>
        <th style="width: 25%;">Username</th>
        <th style="width: 30%;">Active roles</th>
        <th style="width: 25%;">Status</th>
        <th style="width: 20%;">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (user of users; track user.username) {
        <tr>
          <td>{{user.username}}</td>
          <td>{{user.roles.join(', ')}}</td>
          <td>{{user.lockoutEnd ? 'Locked' : 'Unlocked'}}</td>
          <td>
            <button (click)="openRolesModal(user)" class="btn btn-info btn-sm me-1">Edit roles</button>
            @if (!user.lockoutEnd) {
              <button (click)="lockUser(user)" class="btn btn-warning btn-sm">Lock</button>
            } @else {
              <button (click)="unlockUser(user)" class="btn btn-success btn-sm">Unlock</button>
            }
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
